12.java apriori
import java.util.*;

public class apriori {
    private List<Set<String>> transactions;
    private double minSupport;

    public apriori(List<Set<String>> transactions, double minSupport) {
        this.transactions = transactions;
        this.minSupport = minSupport;
    }

    public List<Set<String>> findFrequentItemsets() {
        List<Set<String>> frequentItemsets = new ArrayList<>();
        Set<String> items = new HashSet<>();

        // Collect all unique items
        for (Set<String> transaction : transactions) {
            items.addAll(transaction);
        }

        // Generate initial candidates (single items)
        List<Set<String>> candidates = new ArrayList<>();
        for (String item : items) {
            Set<String> singleItemSet = new HashSet<>();
            singleItemSet.add(item);
            candidates.add(singleItemSet);
        }

        // Iteratively find frequent itemsets
        while (!candidates.isEmpty()) {
            List<Set<String>> frequent = new ArrayList<>();
            for (Set<String> candidate : candidates) {
                int count = 0;
                for (Set<String> transaction : transactions) {
                    if (transaction.containsAll(candidate)) {
                        count++;
                    }
                }
                double support = (double) count / transactions.size();
                if (support >= minSupport) {
                    frequent.add(candidate);
                    frequentItemsets.add(candidate);
                }
            }
            candidates = generateNextCandidates(frequent);
        }

        return frequentItemsets;
    }

    private List<Set<String>> generateNextCandidates(List<Set<String>> prevFrequent) {
        List<Set<String>> nextCandidates = new ArrayList<>();
        int size = prevFrequent.size();

        for (int i = 0; i < size; i++) {
            for (int j = i + 1; j < size; j++) {
                Set<String> union = new HashSet<>(prevFrequent.get(i));
                union.addAll(prevFrequent.get(j));
                if (union.size() == prevFrequent.get(i).size() + 1) {
                    nextCandidates.add(union);
                }
            }
        }

        return nextCandidates;
    }

    public static void main(String[] args) {
    List<Set<String>> transactions = new ArrayList<>();
    transactions.add(new HashSet<>(Arrays.asList("milk", "bread")));
    transactions.add(new HashSet<>(Arrays.asList("milk", "diaper", "beer", "bread")));
    transactions.add(new HashSet<>(Arrays.asList("milk", "diaper", "beer", "cola")));
    transactions.add(new HashSet<>(Arrays.asList("diaper", "beer", "bread")));
    transactions.add(new HashSet<>(Arrays.asList("milk", "diaper", "bread", "beer")));

    apriori ap = new apriori(transactions, 0.6);
    List<Set<String>> result = ap.findFrequentItemsets();
    System.out.println("Frequent Itemsets:");
    for (Set<String> itemset : result) {
        System.out.println(itemset);
    }
}
}

o/p:
Frequent Itemsets:
[diaper]
[beer]
[milk]
[bread]
[beer, diaper]
[diaper, milk]
[diaper, bread]
[beer, milk]
[beer, bread]
[bread, milk]
[diaper, beer, milk]
[diaper, beer, bread]
[diaper, beer, milk]
[diaper, beer, bread]
[beer, diaper, milk]
[beer, diaper, bread]
